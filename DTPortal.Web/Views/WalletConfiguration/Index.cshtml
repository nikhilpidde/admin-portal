@model DTPortal.Web.ViewModel.WalletConfiguration.WalletConfigurationViewModel@{    ViewData["Title"] = "Wallet Configuration";}<style>    .select2-container {        width: 100% !important;    }        .select2-container .select2-selection--single {            height: 35px !important;        }    .selection {        width: 100% !important;    }    .select2-container--default .select2-selection--single .select2-selection__rendered {        color: #555555b3;        font-size: 14px;        font-family: inherit;    }    .custom-check-box {        margin-right: 5px;        -webkit-print-color-adjust: exact;        vertical-align: top;        background-repeat: no-repeat;        background-position: 50%;        background-size: contain;        position: relative !important;        width: 1.125rem;        height: 1.125rem;        background-color: #fff;        border: .125rem solid rgba(0, 0, 0, 0.3);    }    i {        color: #808080e0;    }    .popup {        position: relative;        display: inline-block;        cursor: pointer;        float: right;        -webkit-user-select: none;        -moz-user-select: none;        -ms-user-select: none;        user-select: none;    }    .popuptext {        visibility: hidden;        min-width: 200px;        background-color: #555;        color: #fff;        text-align: center;        border-radius: 6px;        padding: 5px 5px;        position: relative;        z-index: 1111;        right: 3%;        margin-bottom: 35px;        margin-top: -60px;    }    /* Popup arrow */    .popup .popuptext::after {        content: "";        position: absolute;        top: 100%;        left: 50%;        margin-left: -5px;        border-width: 5px;        border-style: solid;        border-color: #555 transparent transparent transparent;    }    .popup:hover + .popuptext {        visibility: visible;        -webkit-animation: fadeIn 1s;        animation: fadeIn 1s;    }    .custom-check-box:hover {        outline: auto;        outline-color: #5d9ceca3;    }    .para {        text-align: left;        margin-left: 20px;        color: #4E5E6A;        font-size: 13px;    }    .modal .modal-content {        width: 100%;    }    .credential-box, .radio-box {        border: 2px solid #ddd;        padding: 10px;        margin-bottom: 20px;        border-radius: 5px;        background-color: #FFFFFF;        height: 100%;        display: flex;        flex-direction: column;    }    .radio-box {        width: 100%;    }        .credential-box .heading,        .radio-box .heading {            font-size: 18px;            font-weight: bold;            margin-bottom: 5px;        }    .displayname {        font-size: 18px;        font-weight: bold;        margin-bottom: 5px;    }    .supportmethod {        font-size: 18px;        font-weight: 600;        margin-bottom: 10px;        margin-left: 20px;    }    .form-check {        margin-bottom: 10px;    }        .form-check input[type="radio"],        .form-check input[type="checkbox"] {            margin-right: 5px;        }        .form-check input[type="radio"] {            margin-left: 30px;        }    .row {        display: flex;        flex-wrap: wrap;        gap: 20px;    }    .col-md-6 {        flex: 1;        max-width: 48%;    }    .form-check-label {        margin-left: 45px;    }    #updateButton {        float: right;    }</style>@{    await Html.RenderPartialAsync("_AlertBox");}<div class="row">    <div class="col-md-12">        <div class="card-custom">            <div class="card-body">                <form id="uform" enctype="multipart/form-data" asp-action="Update" method="post">                    <!-- Credential Formats -->                    <div class="row">                        <div class="col-md-6 ml-3">                            <div class="form-group">                                <h5 class="heading">Credential Formats</h5>                                <div class="credential-box">                                    @for (int i = 0; i < Model.CredentialFormats.Count; i++)                                    {                                        <div class="form-check mb-2">                                            <input type="hidden" name="CredentialFormats[@i].Name" value="@Model.CredentialFormats[i].Name" />                                            <input type="hidden" name="CredentialFormats[@i].DisplayName" value="@Model.CredentialFormats[i].DisplayName" />                                            <input type="checkbox" name="CredentialFormats[@i].isSelected" value="true" class="form-check-input" id="CredentialFormats_@i" @(Model.CredentialFormats[i].isSelected ? "checked" : "") />                                            <label class="form-check-label" for="CredentialFormats_@i">                                                @Model.CredentialFormats[i].DisplayName                                            </label>                                        </div>                                    }                                </div>                            </div>                        </div>                    </div>                    <!-- Binding Methods -->                    <h5 class="heading ml-3">Binding Methods</h5>                    <div class="row">                        <div class="col-md-6 ml-3">                            <div class="radio-box">                                 @for (int i = Model.BindingMethods.Count - 1; i >= 0; i--)                                {                                    var bindingMethod = Model.BindingMethods[i];                                    <input type="hidden" name="BindingMethods[@i].Name" value="@bindingMethod.Name" />                                    <input type="hidden" name="BindingMethods[@i].DisplayName" value="@bindingMethod.DisplayName" />                                    <h6 class="displayname">@($"{Model.BindingMethods.Count - i}. {bindingMethod.DisplayName}{(bindingMethod.DisplayName == "Decentralized Identifier" ? " (DID) " : "")}")</h6>                                    @if (bindingMethod.SupportedMethods != null && bindingMethod.SupportedMethods.Any())                                    {                                        <h6 class="supportmethod">Supported Methods</h6>                                        bool hasSelected = bindingMethod.SupportedMethods.Any(sm => sm.isSelected); // Check if any method is selected                                        for (int j = 0; j < bindingMethod.SupportedMethods.Count; j++)                                        {                                            var method = bindingMethod.SupportedMethods[j];                                            <div class="form-check mb-2">                                                <input type="hidden" name="BindingMethods[@i].SupportedMethods[@j].Name" value="@method.Name" />                                                <input type="hidden" name="BindingMethods[@i].SupportedMethods[@j].DisplayName" value="@method.DisplayName" />                                                <input type="hidden" name="BindingMethods[@i].SupportedMethods[@j].isSelected" id="isSelected_@(i)_@(j)" value="@(method.isSelected ? "true" : "false")" />                                                <input type="radio" name="BindingMethods[@i]" class="form-check-input" id="SupportedMethods_@(i)_@(j)" @(method.isSelected || (!hasSelected && j == 0) ? "checked" : "") onclick="updateIsSelected(this, '@i', '@j')" />                                                <label class="form-check-label" for="SupportedMethods_@(i)_@(j)">                                                    @method.DisplayName                                                </label>                                            </div>                                        }                                    }                                    else                                    {                                        <label class="para form-check-label">No supported methods available.</label>                                    }                                }                            </div>                        </div>                    </div>                    <button type="submit" class="btn btn-primary" id="updateButton">Update</button>                </form>            </div>        </div>    </div></div><script>  /*  document.addEventListener("DOMContentLoaded", function () {        const radioBoxes = document.querySelectorAll(".radio-box");        let maxHeight = 0;        // Calculate the maximum height of all .radio-box elements        radioBoxes.forEach(box => {            const height = box.offsetHeight;            if (height > maxHeight) {                maxHeight = height;            }        });        // Apply the maximum height to all .radio-box elements        radioBoxes.forEach(box => {            box.style.height = maxHeight + "px";        });    });*/    $(document).ready(function () {        $('#walletMenu').addClass('active');        if ($('#sidebar ul li.dropdown.active')) {            $('#sidebar ul li.dropdown.active ul').addClass('show');            $('#walletconfigMenuItem').addClass('active');            $('#sidebar ul li.dropdown.active a.nav-link.drop-logo').attr('aria-expanded', 'true');        }        /*For Breadcrumb Start*/        $('#homeMenu').addClass('breadcrumb-item').append('Digital Wallet');        $('#mainMenu').addClass('breadcrumb-item').append('Wallet Configurations');        $('#subMenu').removeClass('breadcrumb-item');        /*For Breadcrumb End*/    });    function updateIsSelected(radio, i, j) {            // Reset all `isSelected` hidden fields for the current BindingMethod            document.querySelectorAll(`[id^="isSelected_${i}_"]`).forEach(hiddenField => {                hiddenField.value = "false";            });            // Set `isSelected` for the selected radio button            const selectedHiddenField = document.getElementById(`isSelected_${i}_${j}`);            if (selectedHiddenField) {                selectedHiddenField.value = "true";            }        }      document.addEventListener("DOMContentLoaded", () => {        const radioButtons = document.querySelectorAll(".form-check-input");        radioButtons.forEach(radio => {            if (radio.checked) {                const bindingIndex = radio.getAttribute("name").match(/BindingMethods\[(\d+)\]/)[1];                const methodIndex = radio.id.split('_')[2];                const hiddenInput = document.querySelector(`[name="BindingMethods[${bindingIndex}].SupportedMethods[${methodIndex}].isSelected"]`);                if (hiddenInput) {                    hiddenInput.value = "true";                }            }        });    });</script>